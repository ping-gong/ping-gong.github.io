<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ping R. Gong</title>
  <meta name="description" content="Ping R. Gong — PhD candidate in Accounting at Yale University." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#f9f9f9; --fg:#222; --muted:#666; --line:#eee;
      --accent:#C3D3E6; --link:#1E3A5F;
      
      /* Terminal font (stays the same) */
      --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      
      /* 2. UPDATE THIS LINE TO USE POPPINS */
      --sans: 'Poppins', system-ui, -apple-system, sans-serif;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      color:var(--fg);
      font-family:var(--sans); /* This applies Poppins to the whole page... */
      /* Scaled to 125% (20px) */
      font-size:20px;
      line-height:1.5;
      
      display:flex;
      justify-content:center;  
      align-items:center;      
      min-height:100vh;
    }

    .wrap{
      width:100%;
      /* Scaled width (approx 1060px) */
      max-width:1060px;
      padding:60px 30px;
      /* Removed the negative transform to leave more margin on top */
      transform:none;
    }

    /* Header */
    .header{display:flex; align-items:center; gap:30px; margin-bottom:50px}
    .photo{
      /* Scaled to 150px */
      width:150px; height:150px; border-radius:20px; object-fit:cover;
      box-shadow:0 10px 30px rgba(0,0,0,.08)
    }
    h1{font-size:1.8rem; margin:0; font-weight: 600;} /* Added slightly heavier weight for name */
    .sub{color:var(--muted); font-size:1rem}

    /* Tabs */
    .tabs{display:flex; gap:30px; margin-bottom:30px}
    .tab{
      cursor:pointer; padding:5px 0; font-weight:500;
      border-bottom:2.5px solid transparent; font-size:1rem;
    }
    .tab.active{border-color:var(--accent)}

    /* Terminal */
    .terminal{
      background:#fff; border:1px solid var(--line);
      border-radius:18px; padding:30px 35px;
      
      /* This ensures the terminal keeps using the coding font */
      font-family:var(--mono); 
      
      /* Scaled terminal font to 18px */
      font-size:18px;
      box-shadow:0 15px 45px rgba(0,0,0,.06);
      min-height:325px;
    }

    .line{white-space:pre-wrap; margin-bottom:10px}
    .prompt{color:var(--link)}
    .thinking{color:var(--muted); font-style:italic}

    .cursor{
      display:inline-block; width:10px; height:1.1em;
      background:#000; margin-left:4px;
      animation:blink .5s steps(2) infinite
    }
    @keyframes blink{50%{opacity:0}}

    a{color:var(--link); text-decoration:none}
    a:hover{text-decoration:underline}

    @media (max-width:1000px){
      h1{font-size:1.5rem}
      .photo{width:120px;height:120px}
      .wrap{padding:60px 20px}
    }
  </style>
</head>
<body>

<div class="wrap">

  <div class="header">
    <img class="photo" src="/images/Photo_LightBackground.png" alt="Ping R. Gong" />
    <div>
      <h1>Ping R. Gong 公平</h1>
      <div class="sub">PhD candidate in Accounting, Yale University</div>
    </div>
  </div>

  <div class="tabs">
    <div class="tab active" data-tab="about">about</div>
    <div class="tab" data-tab="cv">cv</div>
    <div class="tab" data-tab="contact">contact</div>
  </div>

  <div class="terminal" id="terminal"></div>
</div>

<script>
const terminal = document.getElementById('terminal');
const tabs = document.querySelectorAll('.tab');

let typingSession = 0;

/* Updated content structure slightly to handle HTML safely */
const content = {
  about: [
    {type:'prompt', text:'PingGPT › who is Ping?'},
    {type:'thinking', text:'Thinking…'},
    {text:'Ping R. Gong is a PhD candidate in Accounting at Yale University.'},
    {text:'His research focuses on labor and technology issues in accounting.'},
    {text:'He will be on the 2025–2026 academic job market.'}
  ],
  cv: [
    {type:'prompt', text:'PingGPT › open cv'},
    {type:'thinking', text:'Fetching document…'},
    {html:'Curriculum Vitae → <a href="https://drive.google.com/file/d/1beN9zTzvjvvluaU4ljviKfS5SUV3EDjV/view" target="_blank">Download PDF</a>'}
  ],
  contact: [
    {type:'prompt', text:'PingGPT › contact'},
    {type:'thinking', text:'Generating contact information…'},
    {html:'Email → <a href="mailto:ping.gong@yale.edu">ping.gong@yale.edu</a>'}
  ]
};

function typeSequence(seq, sessionId){
  terminal.innerHTML = '';
  
  /* Reset cursor logic */
  let i = 0;

  function nextLine(){
    if(sessionId !== typingSession) return; 

    if(i >= seq.length){
      const cursor = document.createElement('span');
      cursor.className = 'cursor';
      terminal.appendChild(cursor);
      return;
    }

    const item = seq[i];
    const div = document.createElement('div');
    div.className = 'line';
    if(item.type) div.classList.add(item.type);
    terminal.appendChild(div);

    /* Instant render for HTML links, typing effect for plain text */
    if(item.html){
      div.innerHTML = item.html;
      i++;
      setTimeout(nextLine, 100); /* Small pause after link appears */
    } else {
      const text = item.text || '';
      let j = 0;
      const speed = item.type==='thinking'? 30 : 20; /* Adjusted speed for realism */

      function typeChar(){
        if(sessionId !== typingSession) return;
        if(j < text.length){
          div.textContent += text[j++];
          setTimeout(typeChar, speed);
        } else {
          i++;
          setTimeout(nextLine, 300); /* Pause between lines */
        }
      }

      typeChar();
    }
  }

  nextLine();
}

tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    tabs.forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    
    /* Simple content switch logic */
    const tabName = tab.getAttribute('data-tab');
    if(content[tabName]) {
        typingSession++; 
        typeSequence(content[tabName], typingSession);
    }
  });
});

// Initial load
typeSequence(content.about, typingSession);
</script>

</body>
</html>
